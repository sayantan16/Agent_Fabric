{% extends "base.html" %}
{% block title %}Chat - Agentic Fabric{% endblock %}

{% block content %}
<!-- Full screen layout with sidebar -->
<div class="flex" style="height: calc(100vh - 64px);">
    <!-- Sidebar -->
    {% include 'components/sidebar.html' %}
    
    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col overflow-hidden">
        {% include 'components/chat-container.html' %}
    </div>
</div>

<!-- Workflow Visualization Modal (Hidden by default) -->
<div id="workflow-visualization" class="hidden">
    {% include 'components/workflow-visualization.html' %}
</div>

<script>
// Simplified workflow functions (keeping your existing ones)
window.showWorkflowVisualization = function(workflowData) {
    console.log('Workflow visualization requested:', workflowData);
};

window.hideWorkflowVisualization = function() {
    console.log('Hide workflow visualization');
};

// Initialize on DOM load
document.addEventListener('DOMContentLoaded', function() {
    console.log('ðŸš€ Agentic Fabric Chat Interface Loaded');
    
    // Setup keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        // Ctrl/Cmd + K to focus message input
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
            e.preventDefault();
            const messageInput = document.querySelector('textarea[x-model="currentMessage"]');
            if (messageInput) {
                messageInput.focus();
            }
        }
    });
});
</script>

<style>
/* Enhanced chat message styles */
.chat-message {
    animation: fadeInUp 0.3s ease-out;
}

@keyframes fadeInUp {
    from { 
        opacity: 0; 
        transform: translateY(10px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

/* Better button states */
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

button:not(:disabled):hover {
    transform: translateY(-1px);
    transition: transform 0.1s ease;
}
</style>
{% endblock %}